grepl(DublinCore(ovid.t[[1]], "id"), pattern = end.pattern)
regexpr(DublinCore(ovid.t[[1]], "id"), pattern = end.pattern)
DublinCore(ovid.t[[1]], "id")
strsplit(DublinCore(ovid.t[[1]], "id"),(regexpr(DublinCore(ovid.t[[1]], "id"), pattern = end.pattern)))
?strsplit
strsplit(DublinCore(ovid.t[[1]], "id"),end.pattern)
end.pattern <- "-|."
strsplit(DublinCore(ovid.t[[1]], "id"),end.pattern)
end.pattern <- "-|\."
strsplit(DublinCore(ovid.t[[1]], "id"),end.pattern)
end.pattern <- "-|/."
strsplit(DublinCore(ovid.t[[1]], "id"),end.pattern)
end.pattern <- "-&/."
strsplit(DublinCore(ovid.t[[1]], "id"), end.pattern)
end.pattern <- "-"
strsplit(DublinCore(ovid.t[[1]], "id"), end.pattern)
strsplit(DublinCore(ovid.t[[1]], "id"), c(end.pattern, "."))
end.pattern <- "- | \."
strsplit(DublinCore(ovid.t[[1]], "id"), end.pattern)
end.pattern <- "- | \\."
strsplit(DublinCore(ovid.t[[1]], "id"), end.pattern)
end.pattern <- "- | \."
strsplit(DublinCore(ovid.t[[1]], "id"), end.pattern)
end.pattern <- "- | \."
strsplit(DublinCore(ovid.t[[1]], "id"), end.pattern)
end.pattern <- "- | ."
strsplit(DublinCore(ovid.t[[1]], "id"), end.pattern)
end.pattern <- "- | \\."
strsplit(DublinCore(ovid.t[[1]], "id"), end.pattern)
end.pattern <- "-"
strsplit(DublinCore(ovid.t[[1]], "id"), end.pattern)
end.pattern <- "-\[[:punct:]]"
end.pattern <- "-|[[:punct:]]"
strsplit(DublinCore(ovid.t[[1]], "id"), end.pattern)
end.pattern <- "5-|[[:punct:]]"
strsplit(DublinCore(ovid.t[[1]], "id"), end.pattern)
end.pattern <- "inaug|-|[[:punct:]]"
strsplit(DublinCore(ovid.t[[1]], "id"), end.pattern)
end.pattern <- "inaug|[a-z][A-Z]|-|[[:punct:]]"
strsplit(DublinCore(ovid.t[[1]], "id"), end.pattern)
end.pattern <- "^inaug|[a-z][A-Z]|-|[[:punct:]]"
strsplit(DublinCore(ovid.t[[1]], "id"), end.pattern)
end.pattern <- "inaug|[a-z][A-Z]|-|[[:punct:]]"
strsplit(DublinCore(ovid.t[[1]], "id"), end.pattern, fixed = T)
end.pattern <- "inaug|[a-z][A-Z]|-|[[:punct:]]"
strsplit(DublinCore(ovid.t[[1]], "id"), end.pattern)
end.pattern <- "inaug|-|[[:punct:]]"
strsplit(DublinCore(ovid.t[[1]], "id"), end.pattern)
library(wordcloud)
install.packages("worldcloud")
install.packages("wordcloud")
wordcloud(tm_map(corpus,PlainTextDocument), min.freq=25, scale=c(5,2),rot.per = 0.25,
random.color=T, max.word=45, random.order=F,colors=brewer.pal(6,"Dark2"))
library(wordcloud)
wordcloud(tm_map(corpus,PlainTextDocument), min.freq=25, scale=c(5,2),rot.per = 0.25,
random.color=T, max.word=45, random.order=F,colors=brewer.pal(6,"Dark2"))
wordcloud(tm_map(ovid.t, PlainTextDocument), min.freq=25, scale=c(5,2),rot.per = 0.25,
random.color=T, max.word=45, random.order=F,colors=brewer.pal(6,"Dark2"))
wordcloud(tm_map(ovid.t, PlainTextDocument), min.freq=25, scale=c(5,2),rot.per = 0.25,
random.color=T, max.word=45, random.order=F)
wordcloud(tm_map(ovid.t, PlainTextDocument), min.freq=25, scale=c(5,2),rot.per = 0.25,
random.color=T, max.word=45, random.order=F,colors=brewer.pal(2,"Dark2"))
wordcloud(tm_map(ovid.t, PlainTextDocument), min.freq=25, scale=c(5,2),rot.per = 0.25,
random.color=T, max.word=45, random.order=F,colors=brewer.pal(8,"Dark2"))
wordcloud(tm_map(ovid.t, PlainTextDocument), min.freq=80, scale=c(5,2),rot.per = 0.25,
random.color=T, max.word=45, random.order=F,colors=brewer.pal(8,"Dark2"))
wordcloud(tm_map(ovid.t, PlainTextDocument), min.freq=80, scale=c(5,2),rot.per = 0.25,
random.color=T, max.word=60, random.order=F,colors=brewer.pal(8,"Dark2"))
wordcloud(tm_map(ovid.t, PlainTextDocument), min.freq=100, scale=c(5,2),rot.per = 0.25,
random.color=T, max.word=60, random.order=F,colors=brewer.pal(8,"Dark2"))
?pca
?prcomp
PCA.model <- prcomp(dtm)
PCA.model
PCA.model <- prcomp(t(dtm))
PCA.model
plot(y = PCA.model$sdev)
plot(PCA.model$sdev)
plot(PCA.model$sdev, type = "l")
?plot
?t
points(PCA.model$sdev, type = "l")
points(PCA.model$sdev, type = "l", pch = 21)
points(PCA.model$sdev, type = "l", pch = 22)
points(PCA.model$sdev, pch = 22)
points(PCA.model$sdev, pch = 21)
points(PCA.model$sdev, pch = 23)
points(PCA.model$sdev, pch = 24)
points(PCA.model$sdev, pch = 24)
wordcloud(tm_map(ovid.t, PlainTextDocument), min.freq=100, scale=c(5,2),rot.per = 0.25,
random.color=T, max.word=60, random.order=F,colors=brewer.pal(8,"Dark2"))
points(PCA.model$sdev, pch = 24)
plot(PCA.model$sdev, type = "l")
points(PCA.model$sdev, pch = 22)
points(PCA.model$sdev, pch = 22, col = "red")
points(PCA.model$sdev, pch = 22, bg = "red")
plot(PCA.model$sdev, type = "l", col = "blue")
points(PCA.model$sdev, pch = 22, bg = "red")
summary(PCA.model)
plot(summary(PCA.model)$Cumulative, type = "l", col = "blue")
PCA.model.summary <- summary(PCA.model)
plot(PCA.model.summary$importance, type = "l", col = "blue")
PCA.model.summary <- summary(PCA.model)
PCA.model.summary
cum <- cumsum(PCA.model$sdev)
plot(cum/sum(PCA.model$sdev), type = "l", col = "blue")
sum(PCA.model$sdev)
plot(PCA.model$sdev, type = "l", col = "blue")
points(PCA.model$sdev, pch = 22, bg = "red")
PCA.model.summary
PCA.model.summary[1:2]
PCA.model.summary <- summary(PCA.model)
PCA.model.summary[1:2]
PCA.model.summary[,1:2]
PCA.model.summary
head(PCA.model.summary,3)
PCA.model.summary
PCA.model$sdev
PCA.model$sdev/sum(PCA.model$sdev)
summary(PCA.model.summary)
summary(PCA.model)
PCA.model$x
plot(PCA.model$x[,1:2])
PCA.model$x[,1:2]
dim(PCA.model$x[,1:2])
PCA.model <- prcomp(dtm)
summary(PCA.model)
plot(PCA.model$sdev, type = "l", col = "blue")
points(PCA.model$sdev, pch = 22, bg = "red")
plot(PCA.model$x[,1:2])
PCA.model$x[,1:2]
?text
text(PCA.model$x[,1],PCA.model$x[,2], labels = dtm[,1])
plot(PCA.model$x[,1:2])
text(PCA.model$x[,1],PCA.model$x[,2], labels = dtm[,1])
PCA.model$x[,2]
plot(PCA.model$x[,1:2])
dtm[,1]
PCA.model
plot(PCA.model$x[,1:2])
text(PCA.model$x[,1],PCA.model$x[,2], labels = row.names(PCA.model$x))
text(PCA.model$x[,1],PCA.model$x[,2], labels = row.names(PCA.model$x), cex = 0.3)
plot(PCA.model$x[,1:2])
text(PCA.model$x[,1],PCA.model$x[,2], labels = row.names(PCA.model$x), cex = 0.3)
plot(PCA.model$x[,1:2])
text(PCA.model$x[,1],PCA.model$x[,2], labels = row.names(PCA.model$x), cex = 0.7)
dim(dtm)
rm(list=ls())
library(tm)
library(wordcloud)
dates.speeches <- read.table("D:/Google Drive/Google Drive/My Files/2) Estudos/4) Columbia/3) Classes/4) Fall 2017/1) Applied Data Science/1) GitHub/fall2017-project1-hs2923/data/InauguationDates.txt", header = T, skip = 1, sep = "\t")
InaugurationInfo <- read.csv("D:/Google Drive/Google Drive/My Files/2) Estudos/4) Columbia/3) Classes/4) Fall 2017/1) Applied Data Science/1) GitHub/fall2017-project1-hs2923/data/InaugurationInfo.csv")
directory <- "D:/Google Drive/Google Drive/My Files/2) Estudos/4) Columbia/3) Classes/4) Fall 2017/1) Applied Data Science/1) GitHub/fall2017-project1-hs2923/output/R Notebook/InauguralSpeeches"
doc <- DirSource(directory = directory, encoding = "UTF-8", pattern = "\\.txt$")
ovid <- VCorpus(doc, readerControl = list(language = "en"))
ovid.t <- ovid
ovid.t <- tm_map(ovid.t, content_transformer(tolower))
ovid.t <- tm_map(ovid.t, removeWords, stopwords("english"))
ovid.t <- tm_map(ovid.t, removePunctuation, preserve_intra_word_dashes = T)
ovid.t <- tm_map(ovid.t, stripWhitespace)
dtm <- DocumentTermMatrix(ovid.t)
dim(dtm)
inspect(dtm)
findFreqTerms(dtm, 150)
dtm <- removeSparseTerms(dtm, 0.4)
dim(dtm)
wordcloud(tm_map(ovid.t, PlainTextDocument), min.freq=100, scale=c(5,2),rot.per = 0.25,
random.color=T, max.word=60, random.order=F,colors=brewer.pal(8,"Dark2"))
PCA.model <- prcomp(dtm)
summary(PCA.model)
plot(PCA.model$sdev, type = "l", col = "blue")
points(PCA.model$sdev, pch = 22, bg = "red")
plot(PCA.model$x[,1:2])
text(PCA.model$x[,1],PCA.model$x[,2], labels = row.names(PCA.model$x), cex = 0.7)
type(dtm)
dtm.df <- as.data.frame(dtm)
dtm
inspect(dtm)
head(as.matrix(dtm))
dtm.df <- as.data.frame(as.matrix(dtm))
View(dtm.df)
plot(PCA.model$x[,1:2])
PCA.model$x[,1:2]
install.packages("fpc")
library(fpc)
?pam
View(dtm.df)
View(InaugurationInfo)
InaugurationInfo$Key <- rep(NA, nrow(InaugurationInfo))
?paste
paste("inaug", InaugurationInfo$File, sep = "")
paste("inaug", InaugurationInfo$File, "-",InaugurationInfo$Term, sep = "")
paste("inaug", InaugurationInfo$File, "-",InaugurationInfo$Term, ".txt", sep = "")
InaugurationInfo$Key <- paste("inaug", InaugurationInfo$File, "-",InaugurationInfo$Term, ".txt", sep = "")
View(dtm.df)
?merge
InaugurationInfo[,c(3,6)]
dtm.df$Key <- rownames(dtm.df)
dtm.df <- merge(x = dtm.df, y = InaugurationInfo[,c(3,6)])
dtm.df <- as.data.frame(as.matrix(dtm))
dtm.df <- merge(x = dtm.df, y = InaugurationInfo[,c(4,6)])
dtm.df <- as.data.frame(as.matrix(dtm))
dtm.df$Key <- rownames(dtm.df)
intersect(names(x), names(y))
intersect(names(dtm.df), names(InaugurationInfo))
InaugurationInfo[,c(4,6)]
dtm.df <- merge(x = dtm.df, y = InaugurationInfo[,c(4,6)])
plot(PCA.model$x[,1:2], col = dtm.df$Party)
plot(PCA.model$x[,1:2], col = dtm.df$Party, pch = 22, bg = "red")
plot(PCA.model$x[,1:2], col = dtm.df$Party, pch = 21, bg = "red")
plot(PCA.model$x[,1:2], col = dtm.df$Party, pch = 21, bg = dtm.df$Party)
legend("topright", legend = as.factor(dtm.df$Party))
plot(PCA.model$x[,1:2], col = dtm.df$Party, pch = 21, bg = dtm.df$Party)
legend("topright", legend = dtm.df$Party)
library(ggplot2)
ggplot(PCA.model$x[,1:2]) +
geom_point(shape = 21, col = dtm.df$Party)
ggplot(data = PCA.model$x[,1:2]) +
geom_point(shape = 21, col = dtm.df$Party)
ggplot(data = as.data.frame(PCA.model$x[,1:2])) +
geom_point(shape = 21, col = dtm.df$Party)
PCA.model$x[,1:2]
ggplot(data = as.data.frame(PCA.model$x[,1:2]), aes(PC1, PC2)) +
geom_point(shape = 21, col = dtm.df$Party)
ggplot(data = as.data.frame(PCA.model$x[,1:2]), aes(PC1, PC2)) +
geom_point(shape = 21)
ggplot(data = as.data.frame(PCA.model$x[,1:2]), aes(PC1, PC2)) +
geom_point(shape = 21, colours = as.factor(dtm.df$Party))
ggplot(data = as.data.frame(PCA.model$x[,1:2]), aes(PC1, PC2)) +
geom_point(shape = 21, col = as.factor(dtm.df$Party))
ggplot(data = as.data.frame(PCA.model$x[,1:2]), aes(PC1, PC2)) +
geom_point(shape = 21, aes(col = as.factor(dtm.df$Party)))
ggplot(data = as.data.frame(PCA.model$x[,1:2]), aes(PC1, PC2)) +
geom_point(aes(col = as.factor(dtm.df$Party)))
summary(PCA.model)
summary(PCA.model)[,1]
summary(PCA.model)$Importance[1]
summary(PCA.model)$Importance[2]
summary(PCA.model)[1]$Importance[2]
summary(PCA.model)[1]
summary(PCA.model)[2]
summary(PCA.model)[3]
View(dates.speeches)
?pam
Cluster.model <- pam(dtm, 2)
?pamk
Cluster.model <- pamk(dtm)
Cluster.model$pamobject
Cluster.model$nc
Cluster.model <- kmeans(dtm, 4)
Cluster.model <- kmeans(dtm, 4)
Cluster.model$cluster
Cluster.model$centers
?kmeans
Cluster.model <- kmeans(dtm, 4)
Cluster.model2 <- kmeans(dtm, 3)
cluster.stats(dtm, Cluster.model$cluster, Cluster.model2$cluster)
dtm.df$Cluster1 <- Cluster.model$cluster
dtm.df$Cluster2 <- Cluster.model2$cluster
ggplot(data = as.data.frame(PCA.model$x[,1:2]), aes(PC1, PC2)) +
geom_point(aes(col = as.factor(dtm.df$Cluster1)))
Cluster.model <- kmeans(dtm, 3)
Cluster.model2 <- kmeans(dtm, 4)
dtm.df$Cluster1 <- Cluster.model$cluster
dtm.df$Cluster2 <- Cluster.model2$cluster
ggplot(data = as.data.frame(PCA.model$x[,1:2]), aes(PC1, PC2)) +
geom_point(aes(col = as.factor(dtm.df$Cluster1)))
ggplot(data = as.data.frame(PCA.model$x[,1:2]), aes(PC1, PC2)) +
geom_point(aes(col = as.factor(dtm.df$Cluster1)))
ggplot(data = as.data.frame(PCA.model$x[,1:2]), aes(PC1, PC2)) +
geom_point(aes(col = as.factor(dtm.df$Cluster2)))
rm(list=ls())
library(tm)
library(wordcloud)
library(fpc)
library(ggplot2)
dates.speeches <- read.table("D:/Google Drive/Google Drive/My Files/2) Estudos/4) Columbia/3) Classes/4) Fall 2017/1) Applied Data Science/1) GitHub/fall2017-project1-hs2923/data/InauguationDates.txt", header = T, skip = 1, sep = "\t")
InaugurationInfo <- read.csv("D:/Google Drive/Google Drive/My Files/2) Estudos/4) Columbia/3) Classes/4) Fall 2017/1) Applied Data Science/1) GitHub/fall2017-project1-hs2923/data/InaugurationInfo.csv")
directory <- "D:/Google Drive/Google Drive/My Files/2) Estudos/4) Columbia/3) Classes/4) Fall 2017/1) Applied Data Science/1) GitHub/fall2017-project1-hs2923/data/InauguralSpeeches"
doc <- DirSource(directory = directory, encoding = "UTF-8", pattern = "\\.txt$")
ovid <- VCorpus(doc, readerControl = list(language = "en"))
dir1 <- "D:/Google Drive/Google Drive/My Files/2) Estudos/4) Columbia/3) Classes/4) Fall 2017/1) Applied Data Science/1) GitHub/fall2017-project1-hs2923/data/InauguationDates.txt"
dates.speeches <- read.table(dir1, header = T, skip = 1, sep = "\t")
dir1 <- "https://github.com/TZstatsADS/fall2017-project1-hs2923/data/InaugurationInfo.csv"
dates.speeches <- read.table(dir1, header = T, skip = 1, sep = "\t")
dir1 <- "D:/Google Drive/Google Drive/My Files/2) Estudos/4) Columbia/3) Classes/4) Fall 2017/1) Applied Data Science/1) GitHub/fall2017-project1-hs2923/data/InauguationDates.txt"
dates.speeches <- read.table(dir1, header = T, skip = 1, sep = "\t")
dir2 <- "D:/Google Drive/Google Drive/My Files/2) Estudos/4) Columbia/3) Classes/4) Fall 2017/1) Applied Data Science/1) GitHub/fall2017-project1-hs2923/data/InaugurationInfo.csv"
InaugurationInfo <- read.csv(dir2)
rm(dir1,dir2)
help(url)
install.packages(Rcurl)
install.packages("Rcurl")
install.packages("RCurl")
library(RCurl)
dir1 <- getURL("https://github.com/TZstatsADS/fall2017-project1-hs2923/blob/master/data/InaugurationInfo.csv")
dates.speeches <- read.table(dir1, header = T, skip = 1, sep = "\t")
dir1 <- getURL("https://github.com/TZstatsADS/fall2017-project1-hs2923/blob/master/data/InaugurationInfo.csv")
dir1 <- url("https://github.com/TZstatsADS/fall2017-project1-hs2923/blob/master/data/InaugurationInfo.csv")
dates.speeches <- read.table(dir1, header = T, skip = 1, sep = "\t")
dir1 <- "D:/Google Drive/Google Drive/My Files/2) Estudos/4) Columbia/3) Classes/4) Fall 2017/1) Applied Data Science/1) GitHub/fall2017-project1-hs2923/data/InauguationDates.txt"
dates.speeches <- read.table(dir1, header = T, skip = 1, sep = "\t")
dir2 <- "D:/Google Drive/Google Drive/My Files/2) Estudos/4) Columbia/3) Classes/4) Fall 2017/1) Applied Data Science/1) GitHub/fall2017-project1-hs2923/data/InaugurationInfo.csv"
InaugurationInfo <- read.csv(dir2)
rm(dir1,dir2)
dir3 <- "D:/Google Drive/Google Drive/My Files/2) Estudos/4) Columbia/3) Classes/4) Fall 2017/1) Applied Data Science/1) GitHub/fall2017-project1-hs2923/data/InauguralSpeeches"
doc <- DirSource(directory = dir3, encoding = "UTF-8", pattern = "\\.txt$"), rm(dir3)
doc <- DirSource(directory = dir3, encoding = "UTF-8", pattern = "\\.txt$"); rm(dir3)
ovid <- VCorpus(doc, readerControl = list(language = "en"))
inspect(ovid)
inspect(ovid[1])
head(ovid)
ovid
ovid
inspect(ovid[1])
content(ovid[1])
inspect(ovid[[1]])
head(inspect(ovid[[1]]),25)
ovid[[1]]$content
ovid[[[1]]]
ovid
summary(ovid)
ovid
inspect(ovid[1])
ovid.t <- ovid
ovid.t <- tm_map(ovid.t, content_transformer(tolower))
ovid.t <- tm_map(ovid.t, removeWords, stopwords("english"))
ovid.t <- tm_map(ovid.t, removePunctuation, preserve_intra_word_dashes = T)
ovid.t <- tm_map(ovid.t, stripWhitespace)
meta(ovid)
ovid$meta
meta(ovid[1])
meta(ovid[[1]])
length(ovid[[1]])
length(ovid[[1]]$content)
nchar(ovid[[1]]$content)
nchar(ovid[[1]]$content)
nchar(ovid.t[[1]]$content)
nchar(ovid[[2]]$content)
nchar(ovid.t[[2]]$content)
dtm <- DocumentTermMatrix(ovid.t) #Function to create matrix
dim(dtm)
inspect(dtm)
inspect(dtm)
findFreqTerms(dtm, 150)
?findMostFreqTerms
findMostFreqTerms(dtm)
findFreqTerms(dtm, 150)
wordcloud(tm_map(ovid.t, PlainTextDocument), min.freq=100, scale=c(5,2),rot.per = 0.25,
random.color=T, max.word=60, random.order=F,colors=brewer.pal(8,"Dark2"))
?removeSparseTerms
dtm <- removeSparseTerms(dtm, 0.5)
dim(dtm)
dtm.df <- as.data.frame(as.matrix(dtm))
InaugurationInfo$Key <- paste("inaug", InaugurationInfo$File, "-",InaugurationInfo$Term, ".txt", sep = "")
dtm.df$Key <- rownames(dtm.df)
dtm.df <- merge(x = dtm.df, y = InaugurationInfo[,c(4,6)])
PCA.model <- prcomp(dtm)
summary(PCA.model)
plot(PCA.model$sdev, type = "l", col = "blue")
points(PCA.model$sdev, pch = 22, bg = "red")
ggplot(data = as.data.frame(PCA.model$x[,1:2]), aes(PC1, PC2)) +
geom_point(aes(col = as.factor(dtm.df$Party)))
plot(PCA.model$sdev, type = "l", col = "blue")
points(PCA.model$sdev, pch = 22, bg = "red")
ggplot(data = as.data.frame(PCA.model$x[,1:2]), aes(PC1, PC2)) +
geom_point(aes(col = as.factor(dtm.df$Party)))
dtm <- removeSparseTerms(dtm, 0.4)
dim(dtm)
dtm.df <- as.data.frame(as.matrix(dtm))
InaugurationInfo$Key <- paste("inaug", InaugurationInfo$File, "-",InaugurationInfo$Term, ".txt", sep = "")
dtm.df$Key <- rownames(dtm.df)
dtm.df <- merge(x = dtm.df, y = InaugurationInfo[,c(4,6)])
PCA.model <- prcomp(dtm)
summary(PCA.model)
plot(PCA.model$sdev, type = "l", col = "blue")
points(PCA.model$sdev, pch = 22, bg = "red")
ggplot(data = as.data.frame(PCA.model$x[,1:2]), aes(PC1, PC2)) +
geom_point(aes(col = as.factor(dtm.df$Party)))
PCA.model <- prcomp(dtm)
PCA.model
dtm <- removeSparseTerms(dtm, 0.45)
dim(dtm)
dtm.df <- as.data.frame(as.matrix(dtm))
InaugurationInfo$Key <- paste("inaug", InaugurationInfo$File, "-",InaugurationInfo$Term, ".txt", sep = "")
dtm.df$Key <- rownames(dtm.df)
dtm.df <- merge(x = dtm.df, y = InaugurationInfo[,c(4,6)])
PCA.model <- prcomp(dtm)
summary(PCA.model)
plot(PCA.model$sdev, type = "l", col = "blue")
points(PCA.model$sdev, pch = 22, bg = "red")
ggplot(data = as.data.frame(PCA.model$x[,1:2]), aes(PC1, PC2)) +
geom_point(aes(col = as.factor(dtm.df$Party)))
dtm <- removeSparseTerms(dtm, 0.5)
dim(dtm)
dtm.df <- as.data.frame(as.matrix(dtm))
InaugurationInfo$Key <- paste("inaug", InaugurationInfo$File, "-",InaugurationInfo$Term, ".txt", sep = "")
dtm.df$Key <- rownames(dtm.df)
dtm.df <- merge(x = dtm.df, y = InaugurationInfo[,c(4,6)])
PCA.model <- prcomp(dtm)
summary(PCA.model)
plot(PCA.model$sdev, type = "l", col = "blue")
points(PCA.model$sdev, pch = 22, bg = "red")
ggplot(data = as.data.frame(PCA.model$x[,1:2]), aes(PC1, PC2)) +
geom_point(aes(col = as.factor(dtm.df$Party)))
InaugurationInfo$Key <- paste("inaug", InaugurationInfo$File, "-",InaugurationInfo$Term, ".txt", sep = "")
dtm.df$Key <- rownames(dtm.df) #Creates a key which will be used to link the tables
dtm.df <- merge(x = dtm.df, y = InaugurationInfo[,c(4,6)])
View(dates.speeches)
ds1 <- dates.speeches[,1:2]
View(ds1)
ds2 <- dates.speeches[,c(1,3)]
ds3 <- dates.speeches[,c(1,4)]
ds1 <- dates.speeches[,1:2]
ds2 <- dates.speeches[,c(1,3)]
ds3 <- dates.speeches[,c(1,4)]
ds4 <- dates.speeches[,c(1,5)]
View(ds4)
?reshape
ds <- reshape(dates.speeches)
ds <- reshape(dates.speeches, direction = "long")
ds <- reshape(dates.speeches, direction = "long", varying = "SECOND")
ds <- reshape(dates.speeches, direction = "long", varying = "SECOND", timevar = 2)
ds <- reshape(dates.speeches, direction = "long", varying = "SECOND", timevar = c(1,2))
ds <- reshape(dates.speeches, direction = "long", varying = "SECOND", v.names = 2 )
View(ds)
summary(Indometh)
wide <- reshape(Indometh, v.names = "conc", idvar = "Subject",
timevar = "time", direction = "wide")
View(wide)
reshape(wide, idvar = "Subject", varying = list(2:12),
v.names = "conc", direction = "long")
View(wide)
View(dates.speeches)
ds <- reshape(dates.speeches, direction = "long", varying = "SECOND", v.names = 2, idvar = "PRESIDENT")
ds <- reshape(dates.speeches, direction = "long", varying = List(2:5), v.names = "SpeechDates", idvar = "PRESIDENT")
ds <- reshape(dates.speeches, direction = "long", varying = list(2:5), v.names = "SpeechDates", idvar = "PRESIDENT")
ds <- reshape(dates.speeches, direction = "long", varying = list(2:5), v.names = "SpeechDates")
rm(ds1,ds2,ds3,ds4)
ds <- reshape(dates.speeches, direction = "long", varying = list(2:5), v.names = "SpeechDates")
ds <- ds[!ds$SpeechDates == "",]
ds <- ds[!ds$SpeechDates == "", c(1:3)]
rm(list=ls())
set.seed(0)
packages.used=c("tm", "wordcloud", "fpc",
"ggplot2", "RCurl", "xlsx", "MASS","topicmodels")
packages.needed=setdiff(packages.used,
intersect(installed.packages()[,1],
packages.used))
if(length(packages.needed)>0){
install.packages(packages.needed, dependencies = TRUE,
repos='http://cran.us.r-project.org')
}
library(tm)
library(wordcloud)
library(fpc)
library(ggplot2)
library(RCurl)
library(xlsx)
library(MASS)
library(topicmodels)
user.dir <- setwd("D:/Google Drive/Google Drive/My Files/2) Estudos/4) Columbia/3) Classes/4) Fall 2017/1) Applied Data Science/1) GitHub/fall2017-project1-hs2923")
dir1 <- "./data/InauguationDates.txt"
dates.speeches <- read.table(dir1, header = T, skip = 1, sep = "\t")
dir2 <- "./data/InaugurationInfo.xlsx"
InaugurationInfo <- read.xlsx(dir2, sheetIndex = 1)
rm(dir1,dir2)
dir3 <- "./data/InauguralSpeeches"
doc <- DirSource(directory = dir3, encoding = "UTF-8", pattern = "\\.txt$"); rm(dir3)
ovid <- VCorpus(doc, readerControl = list(language = "en"))
getwd()
paste(getwd(), dir3)
dir3 <- "/data/InauguralSpeeches"
paste(getwd(), dir3)
paste(getwd(), dir3, sep = "")
dir3 <- paste(getwd(), "/data/InauguralSpeeches", sep = "")
dir3
set.seed(0)
packages.used=c("tm", "wordcloud", "fpc",
"ggplot2", "RCurl", "xlsx", "MASS","topicmodels")
packages.needed=setdiff(packages.used,
intersect(installed.packages()[,1],
packages.used))
if(length(packages.needed)>0){
install.packages(packages.needed, dependencies = TRUE,
repos='http://cran.us.r-project.org')
}
library(tm)
library(wordcloud)
library(fpc)
library(ggplot2)
library(RCurl)
library(xlsx)
library(MASS)
library(topicmodels)
user.dir <- setwd("D:/Google Drive/Google Drive/My Files/2) Estudos/4) Columbia/3) Classes/4) Fall 2017/1) Applied Data Science/1) GitHub/fall2017-project1-hs2923")
dir1 <- "./data/InauguationDates.txt"
dates.speeches <- read.table(dir1, header = T, skip = 1, sep = "\t")
dir2 <- "./data/InaugurationInfo.xlsx"
InaugurationInfo <- read.xlsx(dir2, sheetIndex = 1)
rm(dir1,dir2)
dir3 <- paste(getwd(), "/data/InauguralSpeeches", sep = "")
doc <- DirSource(directory = dir3, encoding = "UTF-8", pattern = "\\.txt$"); rm(dir3)
ovid <- VCorpus(doc, readerControl = list(language = "en"))
dir3 <- paste(user.dir, "/data/InauguralSpeeches", sep = "")
dir3 <- paste(user.dir, "/data/InauguralSpeeches", sep = "")
dir3
dir4 <- "D:/Google Drive/Google Drive/My Files/2) Estudos/4) Columbia/3) Classes/4) Fall 2017/1) Applied Data Science/1) GitHub/fall2017-project1-hs2923/data/InauguralSpeeches"
all.equal(dir3, dir4)
getwd()
rm(list=ls())
getwd()
